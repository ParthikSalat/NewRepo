@model IEnumerable<EventAPI.Models.EventTb>

@{
    ViewData["Title"] = "Index";
}

<!-- Black three-line button to toggle sidebar -->
<button class="navbar-toggler" type="button" aria-label="Toggle sidebar" onclick="toggleSidebar()">
    <span class="navbar-toggler-icon"></span>
</button>

<!-- Sidebar -->
<div class="sidebar" id="sidebar"><br /><br />
    <h4>Admin Panel</h4>
    <ul class="nav flex-column">
        <li class="nav-item">
            <a class="nav-link" href="/admin">Dashboard</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/user/AdminUserIndex">User Details</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/organizer/Eventorgindex">Organizer Details</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/event/AdmineventIndex">Events Details</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/admin/settings">Settings</a>
        </li>
    </ul>
</div>

<!-- Main Content -->
<div class="content">
    <h1>@ViewData["Title"]</h1>

    <p>
        <a class="btn btn-primary" asp-action="Create">Create New</a>
    </p>

    <div class="card-container">
        @foreach (var item in Model)
        {
            <div class="card">
                <div class="card-image">
                    <img src="@Url.Content("~/images/" + item.EventImage)" alt="Event Image" />
                </div>
                <div class="card-content">
                    <h2>@Html.DisplayFor(modelItem => item.EventName)</h2>
                    <p><strong>Type:</strong> @Html.DisplayFor(modelItem => item.EventType)</p>
                    <p><strong>Artist:</strong> @Html.DisplayFor(modelItem => item.EventArtist)</p>
                    <p><strong>Theme:</strong> @Html.DisplayFor(modelItem => item.EventThem)</p>
                    <p><strong>Ticket Price:</strong> @Html.DisplayFor(modelItem => item.EventTicketPrice)</p>
                    <p><strong>Date:</strong> @Html.DisplayFor(modelItem => item.EventDate)</p>
                    <p><strong>More Details:</strong> @Html.DisplayFor(modelItem => item.EventMoreDetails)</p>
                </div>
                <div class="card-actions">
                    <a class="btn btn-primary" asp-action="Edit" asp-route-id="@item.EventId">Edit</a>
                    <a class="btn btn-info" asp-action="Details" asp-route-id="@item.EventId">Details</a>
                    <a class="btn btn-danger" asp-action="Delete" asp-route-id="@item.EventId">Delete</a>
                </div>
            </div>
        }
    </div>
</div>

<!-- Styles -->
<style>
    /* Sidebar Styling */
    .sidebar {
        width: 250px;
        background-color: #f8f9fa;
        padding-top: 20px;
        position: fixed;
        top: 0;
        left: -250px; /* Initially hidden */
        height: 100vh;
        border-right: 1px solid #ddd;
        overflow-y: auto;
        transition: left 0.3s; /* Smooth transition for sliding */
    }

        .sidebar.active {
            left: 0;
        }

    /* Black button styling */
    .navbar-toggler {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 1050;
        background-color: black;
        border: none;
        padding: 8px 10px;
    }

    .navbar-toggler-icon {
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3E%3Cpath stroke='white' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");
    }

    /* General Page Styles */
    body {
        font-family: 'Arial', sans-serif;
        background-color: #f4f6f9;
        color: #333;
        margin-left: 0; /* Default when sidebar is hidden */
        transition: margin-left 0.3s;
    }

    .content {
        margin-left: 20px; /* Adjust content margin */
        padding: 20px; /* Add padding for spacing */
        transition: margin-left 0.3s;
    }

        .content.active {
            margin-left: 270px; /* Adjusted when sidebar is toggled */
        }

    h1 {
        font-size: 28px;
        color: #2c3e50;
        margin: 20px 0;
        text-align: center;
    }

    /* Card Container Styling */
    .card-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 20px 0;
    }

    .card {
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: transform 0.2s;
    }

        .card:hover {
            transform: translateY(-5px);
        }

    .card-image img {
        width: 100%;
        height: 200px;
        object-fit: cover;
    }

    .card-content {
        padding: 15px;
    }

        .card-content h2 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .card-content p {
            margin: 5px 0;
            color: #555;
        }

    .card-actions {
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #f8f8f8;
    }

        .card-actions .btn {
            padding: 10px 20px;
            font-size: 14px;
            border-radius: 5px;
            text-decoration: none;
            transition: background-color 0.2s;
        }

        .card-actions .btn-primary {
            background-color: #007bff;
            color: #fff;
        }

        .card-actions .btn-info {
            background-color: #17a2b8;
            color: #fff;
        }

        .card-actions .btn-danger {
            background-color: #dc3545;
            color: #fff;
        }

        .card-actions .btn:hover {
            background-color: #0056b3; /* Darker color on hover */
        }
</style>

<!-- Scripts -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script>
    // Toggle sidebar visibility function
    function toggleSidebar() {
        document.getElementById('sidebar').classList.toggle('active');
        document.querySelector('.content').classList.toggle('active');
    }
</script>
